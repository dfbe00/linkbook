{% extends 'base.html' %}

{% load staticfiles i18n %}
{% block title %}Edit Profile{% endblock %}


{% block body %}
    <div class="container">
        <br><br>
        <div class="row">
            <div class="col s1 m3 l3"> </div>
            <div class="col s10 m6 l6 card hoverable">
                <br>
                <h5 class="center">Edit your profile</h5>
                <form action="/{{request.user.username}}/edit/" method="post" role="form" enctype="multipart/form-data">
                    {% csrf_token %}
                    {% for field in form.visible_fields %}
                    <div class=" input-field">
                        {{ field }}
                        <label for="{{ field.label }}" class="active" >{{ field.label }} </label>
                        {% if field.help_text %}
                            <span>{{ field.help_text|safe }}</span>
                        {% endif %}
                        {% for error in field.errors %}
                            <label id = "control-label">{{ error }}</label>
                        {% endfor %}
                    </div>
                    {% endfor %}
                    <button type="submit" class="btn btn-primary btn-lg">{% trans 'Save' %}</button>
                    <br><br>
                </form>
            </div>
            <div class="col s1 m3 l3"></div>

        </div>

    </div>
    <script>
    $(function () {

        var File = $('input[type="file"]');
        var Parent = File.parent();
        Parent.addClass('file-field');
        console.log(Parent.children());
        var Children = Parent.children();
        Children[1].remove();
        var str = Parent.html();
        var newStr = '';
        newStr += '<div class="btn"> ' +
        '<span>Upload Photo</span>';
        newStr += str;
        newStr += '</div>' + '<div class="file-path-wrapper">' +
        '<input class="file-path validate" type="text">' +
      '</div>';
        Parent.html(newStr);


    });
    </script>
{% endblock body %}
